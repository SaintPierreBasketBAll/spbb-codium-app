<script>
  // Type de licenci√© s√©lectionn√©
  let selectedType = $state("nouveau");
  let titre = $state("Nouveau licenci√©");

  // Met √† jour le titre √† chaque changement de selectedType
  $effect(() => {
    if (selectedType === "nouveau") {
      titre = "Nouveau licenci√©";
    } else if (selectedType === "renouvellement") {
      titre = "Renouvellement";
    } else if (selectedType === "mutation") {
      titre = "Mutation";
    } else if (selectedType === "surclassement") {
      titre = "Surclassement";
    } else if (selectedType === "coach") {
      titre = "Entra√Æneur / Assistant entra√Æneur";
    } else if (selectedType === "senior") {
      titre = "senior fille ou senior gar√ßon";
    } else {
      titre = selectedType;
    }
  });

  // Dictionnaire des fiches documents par type
  const fichesDocuments = $state({
    nouveau: {
      title: "Nouveau licenci√© (joueur) ‚Äî premi√®re inscription",
      items: [
        "Vous trouverez en-dessous de cette liste les liens de t√©l√©chargement correspondants : ",
        "- D√©claration d'adh√©sion sign√©e",
        "- Certificat m√©dical attestant l‚Äôaptitude √† la pratique du basket qui sera √† fournir lors de l'inscription finale sur le site de la F.F.B.B (F√©d√©ration Fran√ßaise de Basket-Ball)",
        "- Copie num√©rique d‚Äôune pi√®ce d‚Äôidentit√© (obligatoire pour premi√®re inscription)",
        "- Charte joueur",
        " - Charte parents si mineur",
        "- R√®glement int√©rieur",
        "- Photo r√©cente conforme aux exigences de la Ligue (pour licence)",
      ],
      links: [
        "/pdf/declaration_d_adhesion.pdf",
        "/pdf/charte_joueur.pdf",
        "/pdf/reglement_interieur_spbb.pdf",
        "/pdf/charte_parent.pdf",
        "/pdf/certificat_medical.pdf",
      ],
    },
    renouvellement: {
      title: "Licenci√© d√©j√† inscrit dans le club (renouvellement)",
      items: [
       "Vous trouverez en-dessous de cette liste les liens de t√©l√©chargement correspondants : ",
        "- Certificat m√©dical (selon les r√®gles de la FFBB, parfois renouvellement requis tous les 3 ans)",
        "- Charte joueur sign√©e (√† renouveler chaque saison)",
        "- Charte parents sign√©e si mineur (√† renouveler chaque saison)",
        "- R√®glement int√©rieur sign√© (√† renouveler chaque saison)",
      ],
      links: [
        "/pdf/charte_joueur.pdf",
        "/pdf/reglement_interieur_spbb.pdf",
        "/pdf/charte_parent.pdf",
        "/pdf/declaration_d_adhesion.pdf",
        "/pdf/certificat_medical.pdf",
      ],
    },
    mutation: {
      title: "Joueur en mutation (changement de club)",
      items: [
       "Vous trouverez en-dessous de cette liste les liens de t√©l√©chargement correspondants : ",
        "- Certificat m√©dical (ou copie du certificat valide si r√©cent)",
        "- Charte joueur",
        "- Charte parents",
        "- R√®glement int√©rieur",
        "- Attestation ou document de mutation du club pr√©c√©dent"
      ],
      links: [
        "/pdf/charte_joueur.pdf",
        "/pdf/reglement_interieur_spbb.pdf",
        "/pdf/charte_parent.pdf",
        "/pdf/declaration_d_adhesion.pdf",
        "/pdf/2025-2026_certificat_medical.pdf",
      ],
    },
    surclassement: {
      title:
        "Surclassement (joueur comp√©titif pratiquant en cat√©gorie sup√©rieure)",
      items: [
        "Vous trouverez en-dessous de cette liste les liens de t√©l√©chargement correspondants : ",
        "- Liste des documents demand√©s pour, soit un nouveau licenci√© (joueur),soit un Renouvellement ou une Mutation",
        "+",
        "- Certificat m√©dical de surclassement normal, voir lien ci-dessous. Ou, un certificat m√©dical sp√©cifique de surclassement, √©tabli par m√©decin agr√©√©, attestant l‚Äôaptitude √† jouer dans la cat√©gorie sup√©rieure, document envoy√© par le club aux joueurs concern√©s.",
      ],
      links: [
        "/pdf/surclassement_simple.pdf",
        "/pdf/charte_joueur.pdf",
        "/pdf/reglement_interieur_spbb.pdf",
        "/pdf/charte_parent.pdf",
        "/pdf/declaration_d_adhesion.pdf",
        
      ],
    },
    coach: {
      title: "Entra√Æneur/ Assistant entra√Æneur",
      items: [
        "Vous trouverez en-dessous de cette liste les liens de t√©l√©chargement correspondants : ",
        "- D√©claration d'adh√©sion",
        "- Charte entra√Æneur-assistant",
        "- R√®glement int√©rieur sign√©",
      ],
      links: [
        "/pdf/reglement_interieur_spbb.pdf",
        "/pdf/charte_entraineur_assistant.pdf",
        "/pdf/declaration_d_adhesion.pdf",     
      ],
    },
    
    senior: {
      title: "Senior fille ou gar√ßon",
      items: [
        "Vous trouverez en-dessous de cette liste les liens de t√©l√©chargement correspondants : ",
        "- D√©claration d'adh√©sion",
        "- CHARTE D‚ÄôENGAGEMENTS : Des Joueurs et Joueuses de NM2, NM3, PNM, NF1, NF2, NF3 et PNF",
        "Certificat m√©dical",
        "- R√®glement int√©rieur",
        "- Charte joueur",
       
      ],
      links: [
        "/pdf/certificat_medical.pdf",
        "/pdf/charte_d_engagement.pdf",
        "/pdf/charte_joueur.pdf",
        "/pdf/reglement_interieur_spbb.pdf",      
        "/pdf/declaration_d_adhesion.pdf",
      ],
    },
  });

  function selectType(type) {
    selectedType = type;
  }
</script>

<!-- Page d'inscription pour la saison 2025/2026 -->

<section class="licence-info">
  <!-- Titre de la section -->
  <h1 class="section-title_h1">LES INSCRIPTIONS 2025/2026</h1>
  <!-- Sous-titre de la section -->

  <h2 class="section-title_h1">üèÄ Proc√©dure d‚Äôinscription au SPBB</h2>
  <p>
    1Ô∏è‚É£ &nbsp;Demande de pr√©inscription : 
  </p>
  <p>- Veuillez remplir le formulaire de demande de
    pr√©inscription en cliquant sur Formulaire de demande de pr√©inscription
    ci-dessous</p>
  <br />
   <h3 class="section-title">Cliquez ici :</h3>
  <p class="inscription_form_link">
    <a
      href="https://docs.google.com/forms/d/e/1FAIpQLSceCokeBqxNcACXk8VAjKczXRd2heP-lbCNmKop0IbtsxdbBw/viewform?usp=dialog"
      target="_blank">Formulaire de demande de pr√©inscription</a
    >
  </p>
  <p>
    2Ô∏è‚É£ &nbsp; √âtude de votre demande : 
  </p>
  <p>- Votre demande de pr√©inscription sera √©tudi√©e par
    le club, en fonction des places disponibles. Vous recevrez une r√©ponse par
    e-mail si refus,sinon un lien FFB vous sera envoy√© par mail si votre demande
    est accept√©e.</p>
  <br />
  <p>
    3Ô∏è‚É£ &nbsp; R√©ception d'un lien F.F.B.B : 
  </p>
  <p> - Vous devrez alors cliquer sur le lien FFBB et compl√©ter le formulaire <span>
    muni des documents √† fournir(photo d'identit√©, certificat medical, etc.), voir ci-dessous.</span>
     √Ä cette √©tape, il vous faudra aussi <span>t√©l√©charger et surtout bien lire et √™tre bien inform√© du contenu,</span>  du r√®glement int√©rieur et des chartes en fonction du type de licence. La demande d'adh√©sion devra alors nous √™tre retourn√©e compl√©t√©e et sign√©e √† l'adresse email : 
     <span>
     <a href="mailto:spbb.inscriptions@gmail.com?subject=Demande%20d%27adh%C3%A9sion%20sign%C3%A9e&body=Bonjour%20SPBB%2C%0AVoici%20en%20pi%C3%A8ce%20jointe%20la%20demande%20d%27adh%C3%A9sion%20sign%C3%A9e.">
      spbb.inscriptions@gmail.com
    </a>
     </span> 
 .</p>
  <br />
  <p>
    4Ô∏è‚É£ &nbsp; Paiement de la licence : 
  </p>
  <p>- Une fois que nous avons recu le demande d'adh√©sion
    sign√©e et le paiement de la licence effectu√©, vous recevrez votre licence et
    serez officiellement licenci√© au SPBB pour la saison 2025/2026.</p>
  <br /><br />
 
  <h2 class="section-title_h1">üìÑ Liste des documents √† fournir</h2>
  <div class="licence-tabs" role="tablist" aria-label="Types de licenci√©s">
    <button
      role="tab"
      class="licence-tab"
      class:selected={selectedType === "nouveau"}
      onclick={() => selectType("nouveau")}
      aria-selected={selectedType === "nouveau"}
      tabindex={selectedType === "nouveau" ? 0 : -1}
    >
      Nouveau licenci√©
    </button>
    <button
      role="tab"
      class="licence-tab"
      class:selected={selectedType === "renouvellement"}
      onclick={() => selectType("renouvellement")}
      aria-selected={selectedType === "renouvellement"}
      tabindex={selectedType === "renouvellement" ? 0 : -1}
    >
      Renouvellement
    </button>
    <button
      role="tab"
      class="licence-tab"
      class:selected={selectedType === "mutation"}
      onclick={() => selectType("mutation")}
      aria-selected={selectedType === "mutation"}
      tabindex={selectedType === "mutation" ? 0 : -1}
    >
      Mutation
    </button>
    <button
      role="tab"
      class="licence-tab"
      class:selected={selectedType === "surclassement"}
      onclick={() => selectType("surclassement")}
      aria-selected={selectedType === "surclassement"}
      tabindex={selectedType === "surclassement" ? 0 : -1}
    >
      Surclassement
    </button>
    <button
      role="tab"
      class="licence-tab"
      class:selected={selectedType === "coach"}
      onclick={() => selectType("coach")}
      aria-selected={selectedType === "coach"}
      tabindex={selectedType === "coach" ? 0 : -1}
    >
      Entra√Æneur / Assistant entra√Æneur
    </button>
  
    <button
      role="tab"
      class="licence-tab"
      class:selected={selectedType === "senior"}
      onclick={() => selectType("senior")}
      aria-selected={selectedType === "senior"}
      tabindex={selectedType === "senior" ? 0 : -1}
    >
      Senior
    </button>
  </div>

  <div class="licence-panel active" role="tabpanel" aria-live="polite">
   

    <h3>Liste des documents √† fournir pour un/une {titre}</h3>

    <!-- Affichage de la liste des items -->
    <ul>
      {#each fichesDocuments[selectedType]?.items as item}
        <li>{item}</li>
      {/each}
    </ul>
    <h3>Liste des liens de t√©l√©chargement par rapport √† la liste ci-dessus</h3>
    <!-- Affichage des liens (s'il y en a) -->
    {#if fichesDocuments[selectedType]?.links}
      <ul>
        {#each fichesDocuments[selectedType]?.links as link}
          <div>
            <a href={link} target="_blank">{link.split("/").pop()}</a>
          </div>
        {/each}
      </ul>
    {/if}
    <br /> <br />
  </div>
</section>

<style>
  /* Styles de base */
  .licence-info {
    color: var(--white);
    font-size: larger;
    padding: 8rem 4rem 2rem;
    background-color: #222;
    max-width: 100vw;
    margin: 0rem 0 auto;
    width: 100%;
  }
  .section-title_h1 {
    text-align: center;
    font-size: 2.5rem;
    margin-bottom: 3rem;
    background: linear-gradient(90deg, var(--orange-dark), var(--orange-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
  }

  .section-title {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 3rem;
    background: linear-gradient(90deg, var(--orange-dark), gold);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    font-weight: 700;
  }
  span {
    color: var(--orange-light);
    font-weight: bold;
  }
  .inscription_form_link {
    text-align: center;
    font-size: 2rem;
    margin-bottom: 3rem;
    color: aliceblue;
    text-decoration: underline;
  }

  /* Onglets */
  .licence-tabs {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 2rem;
    margin-bottom: 2rem;
    /*max-width: 90rem;*/
    margin-left: auto;
    margin-right: auto;
  }

  .licence-tab {
    /* taille fixe pour tous les boutons */
    flex: 0 0 240px; /* ne grandit pas, ne r√©tr√©cit pas, base 140px */
    width: 19rem;
    /*height: 6rem;*/
    padding: 0.8rem 1rem;
    background: linear-gradient(45deg, #1a1a1a, #2a2a2a);
    border: 2px solid transparent;
    border-radius: 25px;
    color: var(--white);
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
    user-select: none;
    text-align: center;
    font-size: 0.9em;
    /*line-height: 40px;*/
  }

  .licence-tab:hover {
    transform: translateY(-3px);
  }

  .licence-tab.selected,
  .licence-tab[aria-selected="true"] {
    border-color: var(--orange-light);
    background: linear-gradient(45deg, var(--orange-light), var(--orange-dark));
  }

  /* Panel des documents */
  .licence-panel {
    background: linear-gradient(45deg, #1a1a1a, #2a2a2a);
    padding: 2rem;
    border-radius: 15px;
    color: var(--grey);
    line-height: 1.6;
  }

  .licence-panel h3 {
    color: var(--orange-light);
    margin-bottom: 1.5rem;
    font-size: 1.5rem;
    text-align: center;
    font-weight: 700;
  }

  .licence-docs {
    list-style-type: none;
    padding-left: 0;
  }

  .licence-docs li {
    margin-bottom: 1rem;
    padding-left: 1.5rem;
    position: relative;
  }

  .licence-docs li::before {
    content: "‚Ä¢";
    color: var(--orange-light);
    position: absolute;
    left: 0;
    font-size: 1.5rem;
    line-height: 1;
  }

  /* Responsive */

  /* Tablettes et petits √©crans */
  @media (max-width: 768px) {
    .licence-info {
      padding: 4rem 1.5rem;
    }

    .section-title {
      font-size: 2rem;
    }

    .licence-tab {
      flex: 0 0 320px;
      width: 120px;
      padding: 0.7rem 1rem;
      font-size: 0.95rem;
    }

    .licence-panel {
      padding: 1.5rem;
    }

    .licence-panel h3 {
      font-size: 1.3rem;
    }
  }

  /* Smartphones : empilement vertical des onglets */
  @media (max-width: 480px) {
    .licence-tabs {
      flex-direction: column;
      gap: 0.6rem;
      align-items: stretch;
    }

    .licence-tab {
      flex: none;
      width: 100%;
      min-width: unset;
      font-size: 1rem;
      padding: 1rem 1.2rem;
      border-radius: 12px;
    }

    .licence-panel {
      padding: 1rem 1rem 2rem;
    }

    .section-title {
      font-size: 1.8rem;
      margin-bottom: 2rem;
    }
  }
</style>
